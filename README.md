
测试人员关注数据库表设计是“测试左移”的一种手段，可以把有关数据库的潜在bug消灭在系统测试之前，从而提高交付效率。


以MySQL为例，QA可从以下方面对数据库表设计做测试的左移：


**1、功能角度**


**表结构**


* 确保每张表都有主键，且主键值唯一且非空，以保证表中每行数据的唯一性和可识别性
* 检查外键约束是否有效，即外键值必须是对应主键表中存在的值，避免出现孤立数据或无效关联
* 表之间存在关联的，验证表与表之间的关联关系是否正确建立（如主键和外键的设置是否准确，关联字段的数据类型和长度是否一致）
* 评估数据表结构对业务变化的适应性（是否能够灵活地进行调整和扩展，以满足不断变化的业务需求）


**表字段**


* 字段的数据类型是否符合业务要求（比如数据量大的字段类型设计成int，使用unsignedint或bigint）
* 字段的长度设计是否合理（是否有合理的buffer，兼容后续新业务）
* 不同表，相同含义的字段命名是否统一（多分参与开发时，歧义少，也就降低了bug出现的可能性）
* 不同表，相同含义字段的类型、长度是否一致（不一致时，可能会出现表A正常落库，表B因不能正常落库而发生bug）
* 敏感字断是否经过加密处理（如银行卡号，身份正号，手机号等）
* 约束条件是否符合业务要求（接口设计字段可以空，但表设计字段NOT NULL，提交的时候显然会报错）
* 冗余字段是否贴合实际业务要求（很多时候，RD为了提高扩展性，设计很多无效的字断，会拉低CURD性能）
* 字段有默认值的，检查默认值是否符合业务要求
* 日期字断需要特别关注，是否符合业务上对日期格式的要求


**2、性能角度**


* 对于查询操作会操作的表，是否有设计索引（经常用于查询条件、连接条件或排序的字段，需创建索引）
* 索引的创建是否合理，是否能有效提高查询性能（设计索引的字段应为查询条件的过滤字段）
* 索引是否过度创建（合理的索引可以提高查询性能，但过多的索引会拉低增删改的性能）
* 视图是否合理创建（如果新增表参与联表查询，考虑是否可以使用视图来提高查询速度）


 


 本博客参考[MeoMiao 萌喵加速](https://biqumo.org)。转载请注明出处！
